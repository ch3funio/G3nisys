title: Istotne
panel: false
icon: mdi:home
id: love_main
background: "#f3f3f3"
cards:
- type: vertical-stack
  cards:
  - cards: !include card_porydnia.yaml
    type: horizontal-stack
  - cards: !include card_lokalizacja.yaml
    type: horizontal-stack
  - type: horizontal-stack
    cards:
    - name: Temperatura
      type: "custom:button-card"
      entity: sensor.tempy
      show_icon: false
      show_name: false
      show_state: true
      styles:
        state:
        - font-size: 40pt
        - font-weight: bold
        - color: "#D17545"
        card: 
        - background: none
        - box-shadow: none
      template: klimat
    - name: Wilgotność
      type: "custom:button-card"
      entity: sensor.mokry
      show_icon: false
      show_name: false
      show_state: true
      styles:
        state:
        - font-size: 40pt
        - font-weight: bold
        - color: "#44739e"
        card: 
        - background: none
        - box-shadow: none
      template: klimat
  - type: horizontal-stack
    cards:
    - name: Kuchnia
      type: "custom:button-card" ##### ledy w kuchni
      entity: light.ledy_w_kuchni
      template: swiatla
      icon: mdi:kettle-outline
      style: |
        ha-card {
          border: 
            {% if is_state('binary_sensor.ruch_kuchnia_occupancy', 'on') %}
              rgb(255, 217, 128) solid 5px !important;
            {% else %}
              none;
            {% endif %}
        }
    - name: Salon
      type: "custom:button-card" ##### światło główne w salonie
      entity: light.lampa_w_salonie
      icon: mdi:lightbulb-group
      template: swiatla
      hold_action: 
        action: call-service
        service: browser_mod.popup
        service_data:
          deviceID: this
          title: Salon
          card:
            type: horizontal-stack
            cards:
            - type: "custom:button-card"
              entity: light.yl1
              template: sceny
            - type: "custom:button-card"
              entity: light.yl2
              template: sceny
            - type: "custom:button-card"
              entity: light.yl3
              template: sceny
            - type: "custom:button-card"
              name: "Normalny"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '-222'
            - type: "custom:button-card"
              name: Spanie
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '-300'
            - type: "custom:button-card"
              name: "Czerwony"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '-400'
    - name: Plafon
      type: "custom:button-card" ##### plafon w salonie
      template: swiatla
      icon: mdi:lightbulb-multiple
      entity: light.plafon
      hold_action: 
        action: call-service
        service: browser_mod.popup
        service_data:
          deviceID: this
          title: Plafon
          card:
            type: horizontal-stack
            cards:
            - type: "custom:button-card"
              entity: light.yl_plafon1
              template: sceny
            - type: "custom:button-card"
              entity: light.yl_plafon2
              template: sceny
            - type: "custom:button-card"
              name: "Normalny"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '----22'
            - type: "custom:button-card"
              name: "Spanie"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '----30'
            - type: "custom:button-card"
              name: "Czerwony"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '----40'
    - name: Korytarz
      type: "custom:button-card" 
      entity: light.yl_korytarz
      icon: mdi:shoe-print
      template: swiatla #border: ; w razie ruchuu 
      style: |
        ha-card {
          border: 
            {% if is_state('binary_sensor.ruch_korytarz_occupancy', 'on') %}
              rgb(255, 217, 128) solid 5px !important;
            {% else %}
              none;
            {% endif %}
        }
      hold_action: 
        action: call-service
        service: browser_mod.popup
        service_data:
          deviceID: this
          title: Korytarz
          card:
            type: horizontal-stack
            cards:
            - type: "custom:button-card"
              name: "Normalny"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '------2'
            - type: "custom:button-card"
              name: "Spanie"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '------3'
            - type: "custom:button-card"
              name: "Czerwony"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '------4'    
  - type: horizontal-stack
    cards: 
    - name: BB
      type: "custom:button-card" ##### światło u Bernarda
      entity: light.yl_bernard
      template: swiatla
      show_entity_picture: true
      icon: mdi:alpha-b-circle-outline #custom:bear
      hold_action: 
        action: call-service
        service: browser_mod.popup
        service_data:
          deviceID: this
          title: Berni
          card:
            type: horizontal-stack
            cards:
            - type: "custom:button-card"
              name: "Normalny"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '-------2'
            - type: "custom:button-card"
              name: "Spanie"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '-------3'
            - type: "custom:button-card"
              name: "Czerwony"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '-------4'
    - name: Maja
      type: "custom:button-card" ##### światło u Mai
      entity: light.yl_maja
      hold_action: 
        action: call-service
        service: browser_mod.popup
        service_data:
          deviceID: this
          title: Maja
          card:
            type: horizontal-stack
            cards:
            - type: "custom:button-card"
              name: "Normalny"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '--------2'
            - type: "custom:button-card"
              name: "Spanie"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '--------3'
            - type: "custom:button-card"
              name: "Czerwony"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '--------4'
      template: swiatla
      show_entity_picture: true
      icon: mdi:alpha-m-circle-outline #custom:bee
    - name: WC
      type: "custom:button-card" 
      entity: light.yl_wc
      template: swiatla
      style: |
        ha-card {
          border: 
            {% if is_state('binary_sensor.drzwi_wc_contact', 'on') %}
              rgb(255, 217, 128) solid 5px !important;
            {% else %}
              none;
            {% endif %}
        }
      icon: mdi:human-male-female
      hold_action: 
        action: call-service
        service: browser_mod.popup
        service_data:
          deviceID: this
          title: WC
          card:
            type: horizontal-stack
            cards:
            - type: "custom:button-card"
              template: sceny_hold
              name: "Normalny"
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '---------2'
            - type: "custom:button-card"
              template: sceny_hold
              name: "Spanie"
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '---------3'
            - type: "custom:button-card"
              name: "Czerwony"
              template: sceny_hold
              tap_action:
                action: call-service
                service: script.run_scene
                service_data:
                  t_config: '---------4'
    - name: Lampki na balkonie
      type: "custom:button-card" 
      entity: light.lampki_na_balkonie
      template: swiatla
      icon: mdi:string-lights #bha:light-string
      style: |
        ha-card {
          border: 
            {% if is_state('binary_sensor.drzwi_balkon_contact', 'on') %}
              rgb(255, 217, 128) solid 5px !important;
            {% else %}
              none;
            {% endif %}
        }
  - type: entity-filter #media_player
    show_empty: false
    state_filter:
      - "on"
      - "playing"
    card:
      type: entities
    entities:
    - entity: media_player.kodi
    - entity: media_player.lg_tv
    - entity: media_player.googy
    - entity: media_player.boogy
    - entity: media_player.tic
    - entity: media_player.chromcast
    - entity: media_player.little_screen
  - type: horizontal-stack
    cards:
    - name: BB Spanie ##### światło u Bernarda
      type: "custom:button-card" 
      entity: input_boolean.tryb_spania
      tap_action: 
        action: call-service
        service: input_boolean.toggle
        service_data:
          entity_id: input_boolean.tryb_spania
      template: sceny
      icon: "mdi:sleep"
    - name: Tryb Kinowy
      type: "custom:button-card"
      template: sceny
      entity: switch.sonoff7
      tap_action: 
        action: call-service
        service: switch.toggle
        service_data:
          entity_id: switch.sonoff7
      icon: "mdi:theater"
    - name: Tryb Gry
      entity: input_boolean.tryb_xbox
      type: "custom:button-card"
      template: sceny
      tap_action: 
        action: call-service
        service: input_boolean.toggle
        service_data:
          entity_id: input_boolean.tryb_xbox
      icon: mdi:microsoft-xbox
    - name: Gotujemy
      type: "custom:button-card"
      entity: input_boolean.tryb_praca_w_kuchni
      tap_action: 
        action: call-service
        service: input_boolean.toggle
        service_data:
          entity_id: input_boolean.tryb_praca_w_kuchni
      show_name: false
      icon: mdi:stove
      template: sceny